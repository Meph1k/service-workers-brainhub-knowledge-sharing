{"version":3,"sources":["character-modal.js","node_modules/line-clamp/index.js","utils.js","list-elements-data.js","list-element.js","index.js"],"names":["Trait","name","value","CharacterModal","title","description","imgSrc","shared","mark","traits","onClickGenerate","onClickOutside","mappedTraits","forEach","trait","setTimeout","document","getElementsByClassName","addEventListener","specifiedElement","specifiedElement2","getElementById","event","isClickInside","contains","target","getCutText","elements","i","length","getRandomArbitrary","min","max","Math","floor","random","getRandomTitle","titles","randomIndex","getRandomDescription","descriptions","getRandomPortrait","portraits","listElementsData","push","index","openModal","innerHTML","map","item","ListElement","attachList","data","characterListHTML","characterElements","fetch","window","location","origin","then","url","catch","console","log","applicationServerPublicKey","pushButton","querySelector","isSubscribed","swRegistration","urlB64ToUint8Array","base64String","padding","repeat","base64","replace","rawData","atob","outputArray","Uint8Array","charCodeAt","sendMessageToSw","msg","Promise","resolve","reject","messageChannel","MessageChannel","port1","onmessage","error","navigator","serviceWorker","controller","postMessage","port2","updateBtn","Notification","permission","textContent","disabled","updateSubscriptionOnServer","subscription","subscriptionJson","subscriptionDetails","JSON","stringify","classList","remove","add","subscribeUser","applicationServerKey","pushManager","subscribe","userVisibleOnly","err","initializeUI","getSubscription","register","sw","ready","sync"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,KAAK,GAAG,SAARA,KAAQ;AAAA,MACZC,IADY,QACZA,IADY;AAAA,MAEZC,KAFY,QAEZA,KAFY;AAAA,gFAIcD,IAJd,kDAKeC,KALf;AAAA,CAAd;;AAQA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,QASjB;AAAA,MARJC,KAQI,SARJA,KAQI;AAAA,MAPJC,WAOI,SAPJA,WAOI;AAAA,MANJC,MAMI,SANJA,MAMI;AAAA,MALJC,MAKI,SALJA,MAKI;AAAA,MAJJC,IAII,SAJJA,IAII;AAAA,2BAHJC,MAGI;AAAA,MAHJA,MAGI,6BAHK,EAGL;AAAA,MAFJC,eAEI,SAFJA,eAEI;AAAA,MADJC,cACI,SADJA,cACI;AACJ,MAAIC,YAAY,GAAG,EAAnB;AACAH,EAAAA,MAAM,CAACI,OAAP,CAAe,UAAAC,KAAK,EAAI;AACtBF,IAAAA,YAAY,IAAIZ,KAAK,CAACc,KAAD,CAArB;AACD,GAFD;AAIAC,EAAAA,UAAU,CAAC,YAAM;AACf,QAAIC,QAAQ,CAACC,sBAAT,CAAgC,iBAAhC,EAAmD,CAAnD,CAAJ,EAA2D;AACzDD,MAAAA,QAAQ,CAACC,sBAAT,CAAgC,iBAAhC,EAAmD,CAAnD,EAAsDC,gBAAtD,CAAuE,OAAvE,EAAgFR,eAAhF;AACD;;AACD,QAAMS,gBAAgB,GAAGH,QAAQ,CAACC,sBAAT,CAAgC,2BAAhC,EAA6D,CAA7D,CAAzB;AACA,QAAMG,iBAAiB,GAAGJ,QAAQ,CAACK,cAAT,CAAwB,iBAAxB,CAA1B;AACAL,IAAAA,QAAQ,CAACE,gBAAT,CAA0B,OAA1B,EAAmC,UAACI,KAAD,EAAW;AAC5C,UAAMC,aAAa,GAAGJ,gBAAgB,CAACK,QAAjB,CAA0BF,KAAK,CAACG,MAAhC,KAA2C,CAACL,iBAAiB,CAACI,QAAlB,CAA2BF,KAAK,CAACG,MAAjC,CAAlE;;AACA,UAAI,CAACF,aAAL,EAAoB;AAClBZ,QAAAA,cAAc;AACf;AACF,KALD;AAMD,GAZS,CAAV;AAcA,mJAE4CP,KAF5C,sFAG+DE,MAH/D,2EAIgCD,WAJhC,6BAKQO,YALR,yIAQyBL,MARzB,4CASuBC,IATvB;AAaD,CA1CD;;eA4CeL;;;ACpDf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC3GA;;;;AAEO,IAAMuB,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B,MAAMC,QAAQ,GAAGX,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,CAAjB;;AACA,OAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,4BAAUD,QAAQ,CAACC,CAAD,CAAlB,EAAuB,CAAvB;AACD;AACF,CALM;;;;;;;;;;;ACFP;;AACA;;;;;;;;AAEA,SAASE,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AACpC,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,GAAG,GAAGD,GAAvB,IAA8BA,GAAzC,CAAP;AACD;;AAED,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,MAAMC,MAAM,GAAG,CAAC,cAAD,EAAiB,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","file":"service-workers-project.e31bb0bc.map","sourceRoot":"..","sourcesContent":["const Trait = ({\n  name,\n  value,\n}) => (`<div class=\"trait-container\">\n  <div class=\"trait-name\">${name}</div>\n  <div class=\"trait-value\">${value}</div>\n</div>`);\n\nconst CharacterModal = ({\n  title,\n  description,\n  imgSrc,\n  shared,\n  mark,\n  traits = [],\n  onClickGenerate,\n  onClickOutside,\n}) => {\n  let mappedTraits = '';\n  traits.forEach(trait => {\n    mappedTraits += Trait(trait);\n  });\n\n  setTimeout(() => {\n    if (document.getElementsByClassName('generate-button')[0]) {\n      document.getElementsByClassName('generate-button')[0].addEventListener('click', onClickGenerate);\n    }\n    const specifiedElement = document.getElementsByClassName('character-modal-container')[0];\n    const specifiedElement2 = document.getElementById('characters-list');\n    document.addEventListener('click', (event) => {\n      const isClickInside = specifiedElement.contains(event.target) && !specifiedElement2.contains(event.target);\n      if (!isClickInside) {\n        onClickOutside();\n      }\n    });\n  });\n\n  return (`<div class=\"modal-container\">\n      <div class=\"character-modal-container\">\n        <div class=\"character-modal__title\">${title}</div>\n        <div class=\"character-modal__image-container\"><img src=${imgSrc} alt=\"portrait\" /></div>\n        <div class=\"line-clamp\">${description}</div>\n        ${mappedTraits}\n        <button class=\"generate-button\">Generate</button>\n        <div class=\"bottom-bar\">\n            <div>Shared: ${shared}</div>\n            <div>Mark: ${mark}</div>\n        </div>\n    </div>\n</div>`)\n};\n\nexport default CharacterModal;\n","function truncateTextNode (\n  textNode,\n  rootElement,\n  maximumHeight,\n  ellipsisCharacter\n) {\n  var lastIndexOfWhitespace\n  var textContent = textNode.textContent\n  while (textContent.length > 1) {\n    lastIndexOfWhitespace = textContent.lastIndexOf(' ')\n    if (lastIndexOfWhitespace === -1) {\n      break\n    }\n    textNode.textContent = textContent.substring(0, lastIndexOfWhitespace)\n    if (rootElement.scrollHeight <= maximumHeight) {\n      textNode.textContent = textContent\n      break\n    }\n    textContent = textNode.textContent\n  }\n  return truncateTextNodeByCharacter(\n    textNode,\n    rootElement,\n    maximumHeight,\n    ellipsisCharacter\n  )\n}\n\nvar TRAILING_WHITESPACE_AND_PUNCTUATION_REGEX = /[ .,;!?'‘’“”\\-–—]+$/\nfunction truncateTextNodeByCharacter (\n  textNode,\n  rootElement,\n  maximumHeight,\n  ellipsisCharacter\n) {\n  var textContent = textNode.textContent\n  var length = textContent.length\n  while (length > 1) {\n    // Trim off one trailing character and any trailing punctuation and whitespace.\n    textContent = textContent\n      .substring(0, length - 1)\n      .replace(TRAILING_WHITESPACE_AND_PUNCTUATION_REGEX, '')\n    length = textContent.length\n    textNode.textContent = textContent + ellipsisCharacter\n    if (rootElement.scrollHeight <= maximumHeight) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction truncateElementNode (\n  element,\n  rootElement,\n  maximumHeight,\n  ellipsisCharacter\n) {\n  var childNodes = element.childNodes\n  var i = childNodes.length - 1\n  while (i > -1) {\n    var childNode = childNodes[i--]\n    var nodeType = childNode.nodeType\n    if (\n      (nodeType === 1 &&\n        truncateElementNode(\n          childNode,\n          rootElement,\n          maximumHeight,\n          ellipsisCharacter\n        )) ||\n      (nodeType === 3 &&\n        truncateTextNode(\n          childNode,\n          rootElement,\n          maximumHeight,\n          ellipsisCharacter\n        ))\n    ) {\n      return true\n    }\n    element.removeChild(childNode)\n  }\n  return false\n}\n\nvar ELLIPSIS_CHARACTER = '\\u2026'\n\nmodule.exports = function (rootElement, lineCount, options) {\n  rootElement.style.cssText +=\n    'overflow:hidden;overflow-wrap:break-word;word-wrap:break-word'\n\n  var maximumHeight =\n    (lineCount || 1) *\n    parseInt(window.getComputedStyle(rootElement).lineHeight, 10)\n\n  // Exit if text does not overflow `rootElement`.\n  if (rootElement.scrollHeight <= maximumHeight) {\n    return\n  }\n\n  truncateElementNode(\n    rootElement,\n    rootElement,\n    maximumHeight,\n    (options && options.ellipsis) || ELLIPSIS_CHARACTER\n  )\n}\n","import lineClamp from 'line-clamp';\n\nexport const getCutText = () => {\n  const elements = document.getElementsByClassName('line-clamp');\n  for (let i = 0; i < elements.length; i++) {\n    lineClamp(elements[i], 5)\n  }\n};\n","import CharacterModal from './character-modal';\nimport { getCutText } from './utils';\n\nfunction getRandomArbitrary(min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\nconst getRandomTitle = () => {\n  const titles = ['Ravaged Snow', 'The Seventh Mist', 'Gate of Angel', 'The Night\\'s Name', 'The Voyages of the Danger', 'Flowers in the Night'];\n  const randomIndex = getRandomArbitrary(0, 6);\n\n  return titles[randomIndex];\n};\n\nconst getRandomDescription = () => {\n  const descriptions = [`Chestnut, oily hair is pulled back to reveal a thin, radiant face. Beady hazel eyes, set concealed within their sockets, watch thoughtfully over the tribes they've been seperated from for so long.\nA large beard gracefully compliments his nose and mouth and leaves a beautiful memory of his adventurous love life.\n\nThis is the face of Isaac Chilson, a true romanticist among vampires. He stands small among others, despite his athletic frame.\n\nThere's something wonderful about him, perhaps it's his gentleness or perhaps it's simply a feeling of coldness. But nonetheless, people tend to stay on his good side, while wishing they were more like him.`,\n  `Green, long hair tight in a ponytail reveals a chiseled, wild face. Dead green eyes, set well within their sockets, watch devotedly over the mountains they've befriended for so long.\nA scar stretching from the bottom of the right cheek , running towards his upper lip and ending under his left eye leaves an amusing memory of true friendship.\n\nThis is the face of Alluin Moonfall, a true genius among night elves. He stands towering above others, despite his brawny frame.\n\nThere's something curious about him, perhaps it's a feeling of shame or perhaps it's simply a feeling of indifference. But nonetheless, people tend to share local gossip with him, while trying to please him.`,\n  `Blue, perfectly groomed hair neatly coiffured to reveal a bony, anguished face. Smart red eyes, set a-symmetrically within their sockets, watch delightedly over the castle they've sought solace in for so long.\nA tattoo of an eagle claw is almost hidden just below her left eye and leaves an aching memory of liberated love.\n\nThe is the face of Nafareath Moonwalker, a true vindicator among elves. She stands average among others, despite her skinny frame.\n\nThere's something inexplicable about her, perhaps it's a feeling of delight or perhaps it's simply her gentleness. But nonetheless, people tend to ask her to tell stories, while trying to avoid her.`,\n  `Blonde, layered hair is pulled back to reveal a strong, radiant face. Glistening silver eyes, set handsomely within their sockets, watch vigorously over the sea they've kept safe for so long.\nA tattoo of a small cross is prominently featured on the left side of her neck and leaves a gracious memory of a new life.\n\nThe is the face of Nafareath Dawnfury, a true spectacle among elves. She stands high among others, despite her light frame.\n\nThere's something charming about her, perhaps it's her disposition or perhaps it's simply her odd friends. But nonetheless, people tend to ask her about her adventures, while secretly training to become more like her.\n`, `Light green, shoulder-length hair neatly coiffured to reveal a round, worried face. Dancing sapphire eyes, set elegantly within their sockets, watch gratefully over the river they've sworn to protect for so long.\nA gunshot left a mark stretching from the top of the left cheek , running towards the other eye and ending on her left cheekbone and leaves an aching burden of return to home.\n\nThe is the face of Yneasia Stagrunner, a true angel among night elves. She stands awkwardly among others, despite her thin frame.\n\nThere's something different about her, perhaps it's her suffering or perhaps it's simply her sympathy. But nonetheless, people tend to welcome her with open arms, while thinking of ways to become her friend.`,\n  `Brown, dreadlocks is pulled back to reveal a long, warm face. Narrow amber eyes, set rooted within their sockets, watch delicately over the rivers they've rarely felt at home at for so long.\nA beard charmingly compliments his eyes and hair and leaves a heartbreaking memory of his fortunate adventures.\n\nThis is the face of Cade Falkner, a true friend among dwarves. He stands gracefully among others, despite his sturdy frame.\n\nThere's something appealing about him, perhaps it's his personality or perhaps it's simply his humility. But nonetheless, people tend to keep their distance, while trying to subtly look more like him.`,\n  `Silver, wavy hair braided to reveal a fine, cheerful face. Beady aquamarine eyes, set appealingly within their sockets, watch wearily over the lands they've befriended for so long.\nFallen debry left a mark stretching from just under the right eye , running across the nose and ending on her right cheekbone and leaves an aching burden of her fortunate destiny.\n\nThe is the face of Lelarea Lunadancer, a true spectacle among elves. She stands average among others, despite her slim frame.\n\nThere's something alluring about her, perhaps it's her friendly demeanor or perhaps it's simply her gentleness. But nonetheless, people tend to ask her about her latest victory, while trying to hide from her.\n`];\n\n  const randomIndex = getRandomArbitrary(0, 7);\n\n  return descriptions[randomIndex];\n};\n\nconst getRandomPortrait = () => {\n  const portraits = ['https://i.pinimg.com/originals/cf/61/d5/cf61d563013cf829deb56e10b32e681b.jpg', 'https://i.pinimg.com/236x/81/71/8b/81718bce7ad49b589d508b6d197214d6--paint-tool-sai-character-art.jpg', 'http://3.bp.blogspot.com/-BeEO51brzj8/TnFCwxq42kI/AAAAAAAAAnc/KLjra5HxWOU/s1600/warrior_female.jpg', 'https://i.pinimg.com/236x/b1/bc/3a/b1bc3a51d2d417b2b705c48a93a9156c.jpg', 'https://vignette.wikia.nocookie.net/moon-guard/images/d/d3/A7c7259ef6050e967a93aa799d2d685d--fantasy-male-digital-portrait.jpg/revision/latest?cb=20171224092829', 'http://strefarpg.net/uploads/monthly_2018_01/3e176c52813aac48a4ad8e3b4b612c2a--fantasy-rpg-character-portraits.jpg.f6e3ac45eb067aeee527a515dacd2a43.jpg']\n\n  const randomIndex = getRandomArbitrary(0, 6);\n\n  return portraits[randomIndex];\n}\n\nconst listElementsData = [];\n\nfor (let i = 0; i < 100; i++) {\n  listElementsData.push({\n    index: 0,\n    title: getRandomTitle(),\n    description: getRandomDescription(),\n    imgSrc: getRandomPortrait(),\n    shared: getRandomArbitrary(0, 10000),\n    mark: getRandomArbitrary(0, 5),\n    openModal: () => {\n      document.getElementById('modal').innerHTML = CharacterModal(listElementsData[i]);\n      getCutText();\n    },\n    onClickOutside: () => {\n      document.getElementById('modal').innerHTML = '';\n    },\n    traits: [{\n      name: 'strength',\n      value: getRandomArbitrary(8, 19),\n    }, {\n      name: 'stamina',\n      value: getRandomArbitrary(8, 19),\n    }, {\n      name: 'agility',\n      value: getRandomArbitrary(8, 19),\n    }, {\n      name: 'intelligence',\n      value: getRandomArbitrary(8, 19),\n    }, {\n      name: 'wisdom',\n      value: getRandomArbitrary(8, 19),\n    }, {\n      name: 'charisma',\n      value: getRandomArbitrary(8, 19),\n    }],\n    onClickGenerate: () => {\n      listElementsData[i].traits = listElementsData[i].traits.map(item => ({\n        ...item,\n        value: getRandomArbitrary(8, 19),\n      }))\n    }\n  });\n}\n\nexport default listElementsData;\n","const ListElement = ({\n  title,\n  description,\n  imgSrc,\n  shared,\n  mark,\n  index,\n}) => {\n  return (`<div class=\"character-element-container\" data-index=${index}>\n        <div class=\"character-element__title\">${title}</div>\n        <div class=\"character-element__image-container\"><img src=${imgSrc} alt=\"portrait\" /></div>\n        <div class=\"line-clamp\">${description}</div>\n        <div class=\"bottom-bar\">\n            <div>Shared: ${shared}</div>\n            <div>Mark: ${mark}</div>\n        </div>\n    </div>`)\n};\n\nexport default ListElement;\n","import listElementsData from './list-elements-data';\nimport ListElement from './list-element';\nimport { getCutText } from './utils';\n\nconst attachList = data => {\n  let characterListHTML = '';\n  const length = data.length;\n\n  for (let i = 0; i < length; i++) {\n    characterListHTML += ListElement(data[i]);\n  }\n\n  document.getElementById('characters-list').innerHTML = characterListHTML;\n}\n\nattachList(listElementsData);\n\nconst characterElements = document.getElementsByClassName('character-element-container');\n\nfor (let i = 0; i < characterElements.length; i++) {\n  characterElements[i].addEventListener('click', listElementsData[i].openModal)\n}\n\ngetCutText();\n\ndocument.getElementById('kitty-picture').addEventListener('click', () => {\n  fetch(`${window.location.origin}/kitten.4431d989.jpeg`)\n    .then((data) => {\n      document.getElementById('kitty-picture-container').innerHTML = `<img src=${data.url} alt=\"kitty\" />`;\n    })\n    .catch(() => {\n      console.log('failed to fetch kitty...')\n    })\n})\n\nconst applicationServerPublicKey = 'BJgRttpCBYWBwJw89Xmaq-6-fLYzdjHGLc-3R7muJYfopOXabBxq2Uxss2bdOT03GTJF9FHjEuHHxbDGwH6z-l8';\n\nconst pushButton = document.querySelector('.js-push-btn');\n\nlet isSubscribed = false;\nlet swRegistration = null;\n\nfunction urlB64ToUint8Array(base64String) {\n  const padding = '='.repeat((4 - base64String.length % 4) % 4);\n  const base64 = (base64String + padding)\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/');\n\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nfunction sendMessageToSw (msg) {\n  return new Promise(function(resolve, reject){\n    // Create a Message Channel\n    const messageChannel = new MessageChannel();\n\n    // Handler for receiving message reply from service worker\n    messageChannel.port1.onmessage = event => {\n      if (event.data.error){\n        reject(event.data.error);\n      } else{\n        resolve(event.data);\n      }\n    };\n\n    // Send message to service worker along with port for reply\n    if (navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(msg, [messageChannel.port2]);\n    }\n  });\n}\n\nfunction updateBtn() {\n  if (Notification.permission === 'denied') {\n    pushButton.textContent = 'Push Messaging Blocked.';\n    pushButton.disabled = true;\n    updateSubscriptionOnServer(null);\n    return;\n  }\n\n  if (isSubscribed) {\n    pushButton.textContent = 'Disable Push Messaging';\n  } else {\n    pushButton.textContent = 'Enable Push Messaging';\n  }\n\n  pushButton.disabled = false;\n}\n\nfunction updateSubscriptionOnServer(subscription) {\n  // TODO: Send subscription to application server\n\n  const subscriptionJson = document.querySelector('.js-subscription-json');\n  const subscriptionDetails =\n    document.querySelector('.js-subscription-details');\n\n  if (subscription) {\n    subscriptionJson.textContent = JSON.stringify(subscription);\n    subscriptionDetails.classList.remove('is-invisible');\n  } else {\n    subscriptionDetails.classList.add('is-invisible');\n  }\n}\n\nfunction subscribeUser() {\n  const applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);\n  swRegistration.pushManager.subscribe({\n    userVisibleOnly: true,\n    applicationServerKey: applicationServerKey\n  })\n    .then(function(subscription) {\n      console.log('User is subscribed.');\n\n      updateSubscriptionOnServer(subscription);\n\n      isSubscribed = true;\n\n      updateBtn();\n\n    })\n    .catch(function(err) {\n      console.log('Failed to subscribe the user: ', err);\n      updateBtn();\n    });\n}\n\nfunction initializeUI() {\n  pushButton.addEventListener('click', function() {\n    pushButton.disabled = true;\n    if (isSubscribed) {\n      // TODO: Unsubscribe user\n    } else {\n      subscribeUser();\n    }\n  });\n\n  // Set the initial subscription value\n  swRegistration.pushManager.getSubscription()\n    .then(function(subscription) {\n      isSubscribed = !(subscription === null);\n\n      updateSubscriptionOnServer(subscription);\n\n      if (isSubscribed) {\n        console.log('User IS subscribed.');\n      } else {\n        console.log('User is NOT subscribed.');\n      }\n\n      updateBtn();\n    });\n}\n\nwindow.addEventListener('load', () => {\n  navigator.serviceWorker.register('/service-worker.js')\n    .then(sw => {\n      swRegistration = sw;\n      initializeUI();\n\n      sendMessageToSw('test msg').then(data => {\n        console.log('back after 1000000000 iterations: ', data)\n      })\n    })\n    .catch(err => {\n      console.log('error!', err)\n    })\n});\n\nnavigator.serviceWorker.ready.then(function(swRegistration) {\n  return swRegistration.sync.register('someTestSync');\n});\n"]}